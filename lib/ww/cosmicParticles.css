/* Cosmic Particles - A beautiful space-themed particle system */
:root {
  --cosmic-primary: #8a4fff;
  --cosmic-secondary: #00bfff;
  --cosmic-accent: #ff6bff;
  --cosmic-cyan: #00ffcc;
  --cosmic-white: #ffffff;
  --cosmic-bg-start: #030014;
  --cosmic-bg-end: #1f1252;
  --particle-glow: 0 0 10px 2px rgba(138, 79, 255, 0.5);
  --particle-glow-hover: 0 0 20px 5px rgba(138, 79, 255, 0.8);
}

#cosmicParticles {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 1 !important;
  pointer-events: none;
  overflow: hidden;
  background: 
    radial-gradient(
      circle at 20% 30%,
      rgba(138, 79, 255, 0.1) 0%,
      transparent 40%
    ),
    radial-gradient(
      circle at 80% 70%,
      rgba(0, 191, 255, 0.1) 0%,
      transparent 40%
    ),
    linear-gradient(
      to bottom, 
      var(--cosmic-bg-start) 0%, 
      var(--cosmic-bg-end) 100%
    );
  opacity: 0;
  transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: opacity, transform;
  transform: translateZ(0);
  backdrop-filter: blur(1px);
  -webkit-backdrop-filter: blur(1px);
}

#cosmicParticles.active {
  opacity: 1;
  pointer-events: auto;
  animation: subtlePulse 15s infinite alternate ease-in-out;
}

/* Subtle cosmic glow overlay */
.cosmic-particles::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  right: -50%;
  bottom: -50%;
  background: 
    radial-gradient(
      circle at 20% 30%,
      rgba(138, 79, 255, 0.15) 0%,
      transparent 30%
    ),
    radial-gradient(
      circle at 80% 70%,
      rgba(0, 191, 255, 0.15) 0%,
      transparent 30%
    ),
    radial-gradient(
      circle at 50% 50%,
      rgba(0, 255, 204, 0.1) 0%,
      transparent 40%
    );
  pointer-events: none;
  z-index: 1;
  opacity: 0.5;
  animation: colorShift 45s infinite alternate;
  will-change: transform, opacity;
  transform: translateZ(0);
}

/* Canvas styling */
#cosmicParticles canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2;
  mix-blend-mode: screen;
  opacity: 0.9;
  transition: opacity 0.5s ease;
}

/* Particle interaction zone */
#cosmicParticles::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 3;
  pointer-events: auto;
  cursor: none;
}

.cosmic-canvas {
  display: block !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  pointer-events: none !important;
  z-index: 1 !important;
  opacity: 1 !important;
  background: transparent !important;
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor;
}

/* Show canvas when active */
.cosmic-particles.active .cosmic-canvas {
  opacity: 1;
  animation: subtleFlicker 10s infinite alternate;
}

@keyframes subtleFlicker {
  0%, 100% { opacity: 0.98; }
  25% { opacity: 0.95; }
  50% { opacity: 1; }
  75% { opacity: 0.97; }
}

@keyframes cosmicPulse {
  0% { opacity: 0.7; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.05); }
  100% { opacity: 0.7; transform: scale(1); }
}

/* Performance optimizations */
@supports (backdrop-filter: blur(1px)) {
  .cosmic-particles::before {
    backdrop-filter: blur(1px);
  }
}

/* Reduced motion alternative */
@media (prefers-reduced-motion: reduce) {
  .cosmic-particles {
    background: var(--cosmic-bg-start);
    animation: none;
  }
  
  .cosmic-particles::before,
  .cosmic-particles::after {
    display: none;
  }
  
  .cosmic-canvas {
    display: none;
  }
  
  .cosmic-particles::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(circle at 20% 30%, rgba(138, 79, 255, 0.1) 0%, transparent 30%),
      radial-gradient(circle at 80% 70%, rgba(0, 191, 255, 0.1) 0%, transparent 30%),
      radial-gradient(circle at 50% 50%, rgba(31, 18, 82, 0.5) 0%, transparent 50%);
    z-index: 1;
  }
}

/* Animation for the background */
@keyframes cosmicPulse {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* Add subtle animation to the background when active */
.cosmic-particles.animated {
  background: linear-gradient(
    45deg,
    #030014,
    #0a0a2a,
    #120c36,
    #1a0f42,
    #1f1252
  );
  background-size: 300% 300%;
  animation: cosmicPulse 30s ease infinite;
}
